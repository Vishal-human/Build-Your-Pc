<!-- cpu-selection is id for selecting input -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title || 'BuildYourPC - CPU Selection' %>
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .glass-effect {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .cpu-image {
            width: 100%;
            height: 180px;
            object-fit: contain;
            transition: transform 0.3s ease;
        }

        .cpu-card:hover .cpu-image {
            transform: scale(1.05);
        }

        main {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem 1rem;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <%- include('../partials/navbar.ejs') %>

        <main>
            <div class="w-full max-w-4xl">
                <div class="text-center mb-8">
                    <div class="flex justify-center mb-6">
                        <div class="relative">
                            <div class="absolute inset-0 bg-blue-500 rounded-xl blur-xl opacity-30"></div>

                        </div>
                    </div>
                    <h1 class="text-3xl font-bold text-white mb-2">Select Your CPU</h1>
                    <p class="text-blue-200 text-sm">Choose between Intel and AMD processors</p>
                </div>

                <div class="flex flex-col md:flex-row gap-6 w-full">
                    <!-- Intel CPU Selection -->
                    <div class="cpu-card w-full p-8 rounded-2xl shadow-2xl transition-all duration-300 cursor-pointer <%= selectedCpu === 'intel' ? 'bg-slate-800/80 border-2 border-blue-500/50 scale-[1.02]' : 'bg-slate-800/40 backdrop-blur-md border border-slate-700/30 hover:scale-[1.01]' %>"
                        onclick="selectCpu('intel')" id="intel-card">
                        <div class="flex justify-center mb-6">
                            <div class="relative">
                                <div class="absolute inset-0 bg-blue-500 rounded-xl blur-lg opacity-20"></div>
                                <div class="relative bg-slate-800 p-4 rounded-xl border border-blue-500/20">
                                    <svg class="h-12 w-12 text-blue-400" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6z"
                                            stroke="currentColor" stroke-width="2" />
                                        <path d="M9 9h6M9 12h6M9 15h3" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <h2 class="text-2xl font-bold text-white text-center mb-4">Intel</h2>

                        <div class="flex justify-center mb-6 overflow-hidden rounded-lg">
                            <img src="https://i.pinimg.com/736x/0e/ef/6a/0eef6af903b1405e6cf24d57009ef0be.jpg"
                                alt="Intel CPU" class="cpu-image">
                        </div>

                        <div class="mt-6">
                            <button id="intel-button"
                                class="w-full py-3 px-4 rounded-lg font-semibold transition duration-200 <%= selectedCpu === 'intel' ? 'bg-blue-600 text-white' : 'bg-slate-700 text-blue-200 hover:bg-slate-600' %>">
                                <%= selectedCpu==='intel' ? 'Selected' : 'Select Intel' %>
                            </button>
                        </div>
                    </div>

                    <!-- AMD CPU Selection -->
                    <div class="cpu-card w-full p-8 rounded-2xl shadow-2xl transition-all duration-300 cursor-pointer <%= selectedCpu === 'amd' ? 'bg-slate-800/80 border-2 border-red-500/50 scale-[1.02]' : 'bg-slate-800/40 backdrop-blur-md border border-slate-700/30 hover:scale-[1.01]' %>"
                        onclick="selectCpu('AMD')" id="amd-card">
                        <div class="flex justify-center mb-6">
                            <div class="relative">
                                <div class="absolute inset-0 bg-red-500 rounded-xl blur-lg opacity-20"></div>
                                <div class="relative bg-slate-800 p-4 rounded-xl border border-red-500/20">
                                    <svg class="h-12 w-12 text-red-400" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6z"
                                            stroke="currentColor" stroke-width="2" />
                                        <path d="M9 9h6M9 12h6M9 15h6" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <h2 class="text-2xl font-bold text-white text-center mb-4">AMD</h2>

                        <div class="flex justify-center mb-6 overflow-hidden rounded-lg">
                            <img src="https://imageio.forbes.com/blogs-images/davealtavilla/files/2018/04/AMD-LOGO-900px.jpg?format=jpg&width=1440"
                                alt="AMD CPU" class="cpu-image">
                        </div>

                        <div class="mt-6">
                            <button id="amd-button"
                                class="w-full py-3 px-4 rounded-lg font-semibold transition duration-200 <%= selectedCpu === 'AMD' ? 'bg-red-600 text-white' : 'bg-slate-700 text-blue-200 hover:bg-slate-600' %>">
                                <%= selectedCpu==='AMD' ? 'Selected' : 'Select AMD' %>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="mt-8 text-center">
                    <form action="/componentselection" method="POST">
                        <input type="hidden" id="cpu-selection" name="cpuSelection" value="<%= selectedCpu || '' %>">
                        <button type="submit" id="continue-button"
                            class="px-8 py-3 rounded-lg font-semibold transition duration-200 <%= selectedCpu ? 'bg-green-600 hover:bg-green-700 text-white transform hover:scale-[1.02]' : 'bg-slate-700 text-slate-400 cursor-not-allowed' %>"
                            <%=!selectedCpu ? 'disabled' : '' %>
                            >
                            Continue to Next Step
                        </button>
                    </form>
                </div>
            </div>
        </main>

        <%- include('../partials/footer.ejs') %>

            <script>
                function selectCpu(type) {
                    // Update hidden input value
                    document.getElementById('cpu-selection').value = type;

                    // Update Intel card and button
                    const intelCard = document.getElementById('intel-card');
                    const intelButton = document.getElementById('intel-button');
                    if (type === 'intel') {
                        intelCard.className = 'cpu-card w-full p-8 rounded-2xl shadow-2xl transition-all duration-300 cursor-pointer bg-slate-800/80 border-2 border-blue-500/50 scale-[1.02]';
                        intelButton.className = 'w-full py-3 px-4 rounded-lg font-semibold transition duration-200 bg-blue-600 text-white';
                        intelButton.textContent = 'Selected';
                    } else {
                        intelCard.className = 'cpu-card w-full p-8 rounded-2xl shadow-2xl transition-all duration-300 cursor-pointer bg-slate-800/40 backdrop-blur-md border border-slate-700/30 hover:scale-[1.01]';
                        intelButton.className = 'w-full py-3 px-4 rounded-lg font-semibold transition duration-200 bg-slate-700 text-blue-200 hover:bg-slate-600';
                        intelButton.textContent = 'Select Intel';
                    }

                    // Update AMD card and button
                    const amdCard = document.getElementById('amd-card');
                    const amdButton = document.getElementById('amd-button');
                    if (type === 'AMD') {
                        amdCard.className = 'cpu-card w-full p-8 rounded-2xl shadow-2xl transition-all duration-300 cursor-pointer bg-slate-800/80 border-2 border-red-500/50 scale-[1.02]';
                        amdButton.className = 'w-full py-3 px-4 rounded-lg font-semibold transition duration-200 bg-red-600 text-white';
                        amdButton.textContent = 'Selected';
                    } else {
                        amdCard.className = 'cpu-card w-full p-8 rounded-2xl shadow-2xl transition-all duration-300 cursor-pointer bg-slate-800/40 backdrop-blur-md border border-slate-700/30 hover:scale-[1.01]';
                        amdButton.className = 'w-full py-3 px-4 rounded-lg font-semibold transition duration-200 bg-slate-700 text-blue-200 hover:bg-slate-600';
                        amdButton.textContent = 'Select AMD';
                    }

                    // Update continue button
                    const continueButton = document.getElementById('continue-button');
                    continueButton.className = 'px-8 py-3 rounded-lg font-semibold transition duration-200 bg-green-600 hover:bg-green-700 text-white transform hover:scale-[1.02]';
                    continueButton.disabled = false;
                }
            </script>
</body>

</html>